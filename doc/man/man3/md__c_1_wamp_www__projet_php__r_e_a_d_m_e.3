.TH "md__c_1_wamp_www__projet_php__r_e_a_d_m_e" 3 "Sun May 8 2016" "My Project" \" -*- nroff -*-
.ad l
.nh
.SH NAME
md__c_1_wamp_www__projet_php__r_e_a_d_m_e \- ProjetPhp 
On va tout niquer A fond jte jure ! 
.PP
.PP
Voilà l'array des actions possibles sur le site : 
.PP
.nf
        'Default',
        'SignUpForm',
        'SignUp',
        'Logout',
        'Login',
        'UpdateUserForm',
        'UpdateUser',
        'AddSurveyForm',
        'AddSurvey',
        'GetMySurveys',
        'Search',
        'Vote');

.fi
.PP
.PP
Pour lancer une action il suffit de faire http://localhost/ProjetPhp/index.php?action=SignUpForm
.PP
Dans la page principale, REQUEST récupère les POST ou GET ?action qu'on lui envoie et renvoie la portion de page qu'il faut en fonction\&. Vous pouvez remplacer SignUpForm par l'action dont vous avez besoin\&. 
.PP
.PP
Voilà notre BDD actuelle : 
.PP
.nf
private function CreateDatabase() {
        $this->connection->exec("CREATE TABLE IF NOT EXISTS users (".
        "id INT NOT NULL AUTO_INCREMENT,".
        "nickname VARCHAR(20) NOT NULL,".
        "email VARCHAR(255) NOT NULL,".
        "password VARCHAR(255) NOT NULL,".
        "PRIMARY KEY(id)".
        ");");

        $this->connection->exec("CREATE TABLE IF NOT EXISTS surveys (".
        "id INT NOT NULL AUTO_INCREMENT,".
        "owner_id INT NOT NULL,". // Jointure avec 'users'
        "question VARCHAR(255) NOT NULL,".
        "choices TEXT NOT NULL,". // Stockées sous la forme 'reponse1;reponse2;reponse3'
        "responses TEXT NOT NULL,".  // Stockées sous la forme '45;25;68'
        "PRIMARY KEY(id),".
        "FOREIGN KEY (owner_id) REFERENCES users(id)".
        ");");

        $this->connection->exec("CREATE TABLE IF NOT EXISTS comments (".
        "id INT NOT NULL AUTO_INCREMENT,".
        "id_owner INT NOT NULL,". // Jointure avec 'users'
        "id_survey INT NOT NULL,". // Jointure avec 'surveys'
        "date DATE NOT NULL,".
        "texte TEXT NOT NULL,".
        "PRIMARY KEY(id),".
        "FOREIGN KEY (id_owner) REFERENCES users(id),".
        "FOREIGN KEY (id_survey) REFERENCES surveys(id)".
        ");");
}
.fi
.PP
 
